{"ast":null,"code":"var _jsxFileName = \"/home/vinod/Downloads/Learn_Project/movie_project/frontend/src/components/MovieList.jsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState } from 'react';\n// import API from '../api';\n// import { Link } from 'react-router-dom';\n// import '../styles/MovieList.css'; // <-- Add this line\n\n// export default function MovieList(){\n//   const [movies, setMovies] = useState([]);\n//   const [page, setPage] = useState(1);\n//   const [next, setNext] = useState(null);\n//   const [prev, setPrev] = useState(null);\n\n//   const fetchMovies = async (p=1) => {\n//     try{\n//       const res = await API.get(`movies/?page=${p}`);\n//       setMovies(res.data.results);\n//       setNext(res.data.next);\n//       setPrev(res.data.previous);\n//       setPage(p);\n//     }catch(err){\n//       console.error(err);\n//     }\n//   }\n\n//   useEffect(()=>{\n//     fetchMovies(1);\n//   },[]);\n\n//   // Listen for a custom event when a new movie is added\n//   useEffect(()=>{\n//     const handler = () => fetchMovies(1);\n//     window.addEventListener('movie:added', handler);\n//     return () => window.removeEventListener('movie:added', handler);\n//   },[]);\n\n//   return (\n//     <div className=\"movie-list\">\n//       <h2>Movies</h2>\n//       <div className=\"grid\">\n//         {movies.map(m => (\n//           <div className=\"card\" key={m.id}>\n//             <Link to={`/movie/${m.id}`}>\n//               {m.poster ? <img src={m.poster} alt={m.title} /> : <div className=\"placeholder\">No Image</div>}\n//               <h3>{m.title}</h3>\n//             </Link>\n//             <p>Rating: {m.rating || 'N/A'}</p>\n//           </div>\n//         ))}\n//       </div>\n//       <div className=\"pagination\">\n//         <button onClick={() => fetchMovies(page - 1)} disabled={!prev}>Previous</button>\n//         <span>Page {page}</span>\n//         <button onClick={() => fetchMovies(page + 1)} disabled={!next}>Next</button>\n//       </div>\n//     </div>\n//   )\n// }\n\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../api\";\nimport './styles/MovieForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MovieList() {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const fetchMovies = async () => {\n    try {\n      const res = await API.get(\"movies/\");\n      if (Array.isArray(res.data)) setMovies(res.data);else if (Array.isArray(res.data.results)) setMovies(res.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    fetchMovies();\n    window.addEventListener(\"movie:added\", fetchMovies);\n    return () => window.removeEventListener(\"movie:added\", fetchMovies);\n  }, []);\n  const deleteMovie = async id => {\n    if (!window.confirm(\"Are you sure you want to delete this movie?\")) return;\n    try {\n      await API.delete(`movies/${id}/`);\n      fetchMovies();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movie-list\",\n    children: movies.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No movies found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this) : movies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-card\",\n      children: [movie.poster && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: movie.poster,\n        alt: movie.title,\n        className: \"poster-img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: movie.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: movie.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Rating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 16\n        }, this), \" \", movie.rating]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-btn\",\n        onClick: () => deleteMovie(movie.id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)]\n    }, movie.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieList, \"MO6b3PSP3RIUqZ8gtSrBZBVtBbs=\");\n_c = MovieList;\nvar _c;\n$RefreshReg$(_c, \"MovieList\");","map":{"version":3,"names":["React","useEffect","useState","API","jsxDEV","_jsxDEV","MovieList","_s","movies","setMovies","fetchMovies","res","get","Array","isArray","data","results","err","console","log","window","addEventListener","removeEventListener","deleteMovie","id","confirm","delete","error","className","children","length","fileName","_jsxFileName","lineNumber","columnNumber","map","movie","poster","src","alt","title","description","rating","onClick","_c","$RefreshReg$"],"sources":["/home/vinod/Downloads/Learn_Project/movie_project/frontend/src/components/MovieList.jsx"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import API from '../api';\n// import { Link } from 'react-router-dom';\n// import '../styles/MovieList.css'; // <-- Add this line\n\n\n// export default function MovieList(){\n//   const [movies, setMovies] = useState([]);\n//   const [page, setPage] = useState(1);\n//   const [next, setNext] = useState(null);\n//   const [prev, setPrev] = useState(null);\n\n//   const fetchMovies = async (p=1) => {\n//     try{\n//       const res = await API.get(`movies/?page=${p}`);\n//       setMovies(res.data.results);\n//       setNext(res.data.next);\n//       setPrev(res.data.previous);\n//       setPage(p);\n//     }catch(err){\n//       console.error(err);\n//     }\n//   }\n\n//   useEffect(()=>{\n//     fetchMovies(1);\n//   },[]);\n\n//   // Listen for a custom event when a new movie is added\n//   useEffect(()=>{\n//     const handler = () => fetchMovies(1);\n//     window.addEventListener('movie:added', handler);\n//     return () => window.removeEventListener('movie:added', handler);\n//   },[]);\n\n//   return (\n//     <div className=\"movie-list\">\n//       <h2>Movies</h2>\n//       <div className=\"grid\">\n//         {movies.map(m => (\n//           <div className=\"card\" key={m.id}>\n//             <Link to={`/movie/${m.id}`}>\n//               {m.poster ? <img src={m.poster} alt={m.title} /> : <div className=\"placeholder\">No Image</div>}\n//               <h3>{m.title}</h3>\n//             </Link>\n//             <p>Rating: {m.rating || 'N/A'}</p>\n//           </div>\n//         ))}\n//       </div>\n//       <div className=\"pagination\">\n//         <button onClick={() => fetchMovies(page - 1)} disabled={!prev}>Previous</button>\n//         <span>Page {page}</span>\n//         <button onClick={() => fetchMovies(page + 1)} disabled={!next}>Next</button>\n//       </div>\n//     </div>\n//   )\n// }\n\n\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../api\";\nimport './styles/MovieForm.css';\n\nexport default function MovieList() {\n  const [movies, setMovies] = useState([]);\n\n  const fetchMovies = async () => {\n    try {\n      const res = await API.get(\"movies/\");\n      if (Array.isArray(res.data)) setMovies(res.data);\n      else if (Array.isArray(res.data.results)) setMovies(res.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchMovies();\n    window.addEventListener(\"movie:added\", fetchMovies);\n    return () => window.removeEventListener(\"movie:added\", fetchMovies);\n  }, []);\n\n  const deleteMovie = async (id) => {\n    if (!window.confirm(\"Are you sure you want to delete this movie?\")) return;\n    try {\n      await API.delete(`movies/${id}/`);\n      fetchMovies();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <div className=\"movie-list\">\n      {movies.length === 0 ? (\n        <p>No movies found.</p>\n      ) : (\n        movies.map((movie) => (\n          <div className=\"movie-card\" key={movie.id}>\n            {movie.poster && (\n              <img src={movie.poster} alt={movie.title} className=\"poster-img\" />\n            )}\n            <h3>{movie.title}</h3>\n            <p>{movie.description}</p>\n            <p><b>Rating:</b> {movie.rating}</p>\n\n            <button className=\"delete-btn\" onClick={() => deleteMovie(movie.id)}>\n              Delete\n            </button>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}