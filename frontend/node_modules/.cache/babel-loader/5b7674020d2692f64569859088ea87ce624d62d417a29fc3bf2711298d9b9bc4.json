{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import API from '../api';\n// import { Link } from 'react-router-dom';\n\n// export default function MovieList() {\n//   const [movies, setMovies] = useState([]);\n//   const [page, setPage] = useState(1);\n//   const [next, setNext] = useState(null);\n//   const [prev, setPrev] = useState(null);\n\n//   const fetchMovies = async (p = 1) => {\n//     try {\n//       const res = await API.get(`movies/?page=${p}`);\n//       setMovies(res.data.results);\n//       setNext(res.data.next);\n//       setPrev(res.data.previous);\n//       setPage(p);\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchMovies(1);\n//   }, []);\n\n//   useEffect(() => {\n//     const handler = () => fetchMovies(1);\n//     window.addEventListener('movie:added', handler);\n//     return () => window.removeEventListener('movie:added', handler);\n//   }, []);\n\n//   return (\n//     <div className=\"min-h-screen px-6\">\n\n//       <h2 className=\"text-2xl font-bold mb-2 text-left bg-gradient-to-r from-red-800 to-orange-400 text-transparent bg-clip-text\">\n//         Movies Catalog\n//       </h2>\n\n//       {/* Movie Card Grid */}\n\n//       <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-10\">\n//   {movies.map(m => (\n//     <div key={m.id} className=\"movie-card hover-glow\">\n//       <Link to={`/movie/${m.id}`}>\n//         {m.poster ? (\n//           <img src={m.poster} alt={m.title} className=\"movie-img\" />\n//         ) : (\n//           <div className=\"movie-img flex items-center justify-center text-gray-400\">\n//             No Image\n//           </div>\n//         )}\n//         <h3 className=\"movie-title\">{m.title}</h3>\n//       </Link>\n//       <p className=\"text-black font-semibold\">\n//         Rating: <span className=\"rating-value\">{m.rating || \"N/A\"}</span>\n//       </p>\n//     </div>\n//   ))}\n// </div>\n\n//       {/* Pagination */}\n//       <div className=\"mt-10 flex items-center justify-center gap-4\">\n//   <button\n//     onClick={() => fetchMovies(page - 1)}\n//     disabled={!prev}\n//     className={`pagination-btn ${\n//       prev ? \"bg-gray-800 hover:bg-black\" : \"bg-gray-600 cursor-not-allowed\"\n//     }`}\n//   >\n//     Previous\n//   </button>\n\n//   <span className=\"text-lg font-semibold\">Page {page}</span>\n\n//   <button\n//     onClick={() => fetchMovies(page + 1)}\n//     disabled={!next}\n//     className={`pagination-btn ${\n//       next ? \"bg-gray-800 hover:bg-black\" : \"bg-gray-600 cursor-not-allowed\"\n//     }`}\n//   >\n//     Next\n//   </button>\n// </div>\n\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["/home/vinod/Downloads/Learn_Project/movie_project/frontend/src/components/MovieList.jsx"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import API from '../api';\n// import { Link } from 'react-router-dom';\n\n// export default function MovieList() {\n//   const [movies, setMovies] = useState([]);\n//   const [page, setPage] = useState(1);\n//   const [next, setNext] = useState(null);\n//   const [prev, setPrev] = useState(null);\n\n//   const fetchMovies = async (p = 1) => {\n//     try {\n//       const res = await API.get(`movies/?page=${p}`);\n//       setMovies(res.data.results);\n//       setNext(res.data.next);\n//       setPrev(res.data.previous);\n//       setPage(p);\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchMovies(1);\n//   }, []);\n\n//   useEffect(() => {\n//     const handler = () => fetchMovies(1);\n//     window.addEventListener('movie:added', handler);\n//     return () => window.removeEventListener('movie:added', handler);\n//   }, []);\n\n//   return (\n//     <div className=\"min-h-screen px-6\">\n\n//       <h2 className=\"text-2xl font-bold mb-2 text-left bg-gradient-to-r from-red-800 to-orange-400 text-transparent bg-clip-text\">\n//         Movies Catalog\n//       </h2>\n\n//       {/* Movie Card Grid */}\n\n//       <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-10\">\n//   {movies.map(m => (\n//     <div key={m.id} className=\"movie-card hover-glow\">\n//       <Link to={`/movie/${m.id}`}>\n//         {m.poster ? (\n//           <img src={m.poster} alt={m.title} className=\"movie-img\" />\n//         ) : (\n//           <div className=\"movie-img flex items-center justify-center text-gray-400\">\n//             No Image\n//           </div>\n//         )}\n//         <h3 className=\"movie-title\">{m.title}</h3>\n//       </Link>\n//       <p className=\"text-black font-semibold\">\n//         Rating: <span className=\"rating-value\">{m.rating || \"N/A\"}</span>\n//       </p>\n//     </div>\n//   ))}\n// </div>\n\n\n//       {/* Pagination */}\n//       <div className=\"mt-10 flex items-center justify-center gap-4\">\n//   <button\n//     onClick={() => fetchMovies(page - 1)}\n//     disabled={!prev}\n//     className={`pagination-btn ${\n//       prev ? \"bg-gray-800 hover:bg-black\" : \"bg-gray-600 cursor-not-allowed\"\n//     }`}\n//   >\n//     Previous\n//   </button>\n\n//   <span className=\"text-lg font-semibold\">Page {page}</span>\n\n//   <button\n//     onClick={() => fetchMovies(page + 1)}\n//     disabled={!next}\n//     className={`pagination-btn ${\n//       next ? \"bg-gray-800 hover:bg-black\" : \"bg-gray-600 cursor-not-allowed\"\n//     }`}\n//   >\n//     Next\n//   </button>\n// </div>\n\n//     </div>\n//   );\n// }\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}